<div class="register-container">
  <div class="register-left">
    <div class="brand">BALA</div>
    <h2>Welcome. Start your journey now with our management system!</h2>
  </div>
  
  <div class="register-right">
    <div class="register-card">
      <h1>Create an account</h1>
      
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
        <div class="form-group">
          <label for="username">Username</label>
          <input
            type="text"
            id="username"
            formControlName="username"
            class="form-control"
            [class.error]="registerForm.get('username')?.invalid && registerForm.get('username')?.touched"
            placeholder="Choose a username"
          />
          <div class="error-message" *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched">
            <span *ngIf="registerForm.get('username')?.errors?.['required']">Username is required</span>
            <span *ngIf="registerForm.get('username')?.errors?.['minlength']">Username must be at least 3 characters</span>
            <span *ngIf="registerForm.get('username')?.errors?.['maxlength']">Username must be at most 30 characters</span>
          </div>
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input
            type="email"
            id="email"
            formControlName="email"
            class="form-control"
            [class.error]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched"
            placeholder="Enter your email"
          />
          <div class="error-message" *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
            <span *ngIf="registerForm.get('email')?.errors?.['required']">Email is required</span>
            <span *ngIf="registerForm.get('email')?.errors?.['email']">Please enter a valid email</span>
          </div>
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <div class="password-input-wrapper">
            <input
              [type]="showPassword ? 'text' : 'password'"
              id="password"
              formControlName="password"
              class="form-control"
              [class.error]="registerForm.get('password')?.invalid && registerForm.get('password')?.touched"
              placeholder="Enter your password"
            />
            <button
              type="button"
              class="eye-icon"
              (click)="togglePasswordVisibility()"
              tabindex="-1"
            >
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  *ngIf="!showPassword"
                  d="M10 3.75C5.83333 3.75 2.275 6.34167 0.833328 10C2.275 13.6583 5.83333 16.25 10 16.25C14.1667 16.25 17.725 13.6583 19.1667 10C17.725 6.34167 14.1667 3.75 10 3.75ZM10 14.1667C7.69996 14.1667 5.83333 12.3 5.83333 10C5.83333 7.7 7.69996 5.83333 10 5.83333C12.3 5.83333 14.1667 7.7 14.1667 10C14.1667 12.3 12.3 14.1667 10 14.1667ZM10 7.5C8.61667 7.5 7.5 8.61667 7.5 10C7.5 11.3833 8.61667 12.5 10 12.5C11.3833 12.5 12.5 11.3833 12.5 10C12.5 8.61667 11.3833 7.5 10 7.5Z"
                  fill="#6B7280"
                />
                <path
                  *ngIf="showPassword"
                  d="M2.5 2.5L17.5 17.5M8.33333 8.33333L6.275 6.275C5.2 7.08333 4.45833 8.275 4.16667 9.58333M11.6667 11.6667L13.725 13.725C14.8 12.9167 15.5417 11.725 15.8333 10.4167M6.66667 6.66667L4.16667 4.16667M15.8333 15.8333L13.3333 13.3333M10.8333 3.95833C9.44167 3.74167 8.01667 3.91667 6.66667 4.375M13.3333 5.83333C14.4 6.65833 15.2833 7.78333 15.8333 9.16667"
                  stroke="#6B7280"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </div>
          <div class="error-message" *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
            <span *ngIf="registerForm.get('password')?.errors?.['required']">Password is required</span>
            <span *ngIf="registerForm.get('password')?.errors?.['minlength']">Password must be at least 6 characters</span>
          </div>
        </div>

        <div class="error-message" *ngIf="errorMessage" style="margin-top: 1rem;">
          {{ errorMessage }}
        </div>

        <button
          type="submit"
          class="btn-primary"
          [disabled]="isLoading"
        >
          {{ isLoading ? 'Creating account...' : 'Create account' }}
        </button>

        <button
          type="button"
          class="btn-google"
          (click)="onGoogleSignUp()"
        >
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M19.6 10.2273C19.6 9.51818 19.5364 8.83636 19.4182 8.18182H10V12.05H15.3818C15.15 13.3 14.4455 14.3591 13.3864 15.0682V17.5773H16.6182C18.5091 15.8364 19.6 13.2727 19.6 10.2273Z" fill="#4285F4"/>
            <path d="M10 20C12.7 20 14.9636 19.1045 16.6182 17.5773L13.3864 15.0682C12.4909 15.6682 11.3455 16.0227 10 16.0227C7.39545 16.0227 5.19091 14.2636 4.40455 11.9H1.06364V14.4909C2.70909 17.7591 6.09091 20 10 20Z" fill="#34A853"/>
            <path d="M4.40455 11.9C4.20455 11.3 4.09091 10.6591 4.09091 10C4.09091 9.34091 4.20455 8.7 4.40455 8.1V5.50909H1.06364C0.386364 6.85909 0 8.38636 0 10C0 11.6136 0.386364 13.1409 1.06364 14.4909L4.40455 11.9Z" fill="#FBBC05"/>
            <path d="M10 3.97727C11.4682 3.97727 12.7864 4.48182 13.8227 5.47273L16.6909 2.60455C14.9591 0.990909 12.6955 0 10 0C6.09091 0 2.70909 2.24091 1.06364 5.50909L4.40455 8.1C5.19091 5.73636 7.39545 3.97727 10 3.97727Z" fill="#EA4335"/>
          </svg>
          Continue with Google
        </button>
      </form>

      <div class="auth-footer">
        <p>Already Have An Account? <a routerLink="/login" class="link">Log in</a></p>
      </div>
    </div>
  </div>
</div>

